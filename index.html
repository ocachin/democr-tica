<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Firma y Registro</title>
    <link rel="stylesheet" type="text/css" href="estilos.css">
</head>
<body>
    <h1 class="titulo">
        democrática
    </h1>
    <h2>
        ¿Qué te gustaría promover?
    </h2>
   
    <ul class="medidas">
        <li class="medida" onclick="showPopup('Ley de Legimitimación de Ganancias Ilícitas')">
            <a href="#">Ley de Legimitimación de Ganancias Ilícitas</a>
        </li>
        <li class="medida" onclick="showPopup('Proyecto de Tren Urbano en Santa Cruz de la Sierra')">
            <a href="#">Proyecto de Tren Urbano en Santa Cruz de la Sierra</a>
        </li>
        <li class="medida" onclick="showPopup('Prohibición Bloqueos carretera Eje troncal')">
            <a href="#">Prohibición Bloqueos carretera Eje troncal</a>
        </li>
        <li class="medida" onclick="showPopup('Reforma Judicial y Federalismo')">
            <a href="#">Reforma Judicial y Federalismo</a>
        <!-- Agrega más medidas aquí -->
    </ul>

    <img src="https://cnnespanol.cnn.com/wp-content/uploads/2019/10/191029112116-bolivia-protestas-paro-nacional-elecciones-evo-morales-pkg-gustavo-valdes-00003904-full-169.jpg?quality=100&strip=info" alt="Descripción de la imagen">

    <div id="popup">
        <div id="popupContent">
            <p class="cambia-pais">Cambia el país aquí</p>
            <h2>Firmar Medida: <span id="popupTitle"></span></h2>
            <form id="registroForm">
                <label for="nombre">Nombre:</label>
                <input type="text" id="nombre" name="nombre" placeholder="Ingrese su nombre">
                <label for="apellido">Apellido:</label>
                <input type="text" id="apellido" name="apellido" placeholder="Ingrese su apellido">
                <label for="celular">Número Celular:</label>
                <input type="text" id="celular" name="celular" placeholder="Ingrese su número de celular">
                <label for="correo">Correo:</label>
                <input type="email" id="correo" name="correo" placeholder="Ingrese su correo electrónico">
                <label for="carnet">Carnet de Identidad:</label>
                <input type="text" id="carnet" name="carnet" placeholder="Ingrese su carnet de identidad">
                <input type="hidden" name="medida" id="popupMedida" value="">
                <input type="button" value="Registrar" onclick="registrar()">
            </form>
            <button onclick="closePopup()">Cerrar</button>
        </div>
    </div>

    <script>
        function showPopup(medida) {
            document.getElementById('popupMedida').value = medida;
            document.getElementById('popupTitle').textContent = medida;
            document.getElementById('popup').style.display = 'block';
        }

        function registrar() {
            var form = document.getElementById('registroForm');
            var formData = new FormData(form);

            var xhr = new XMLHttpRequest();
            xhr.open('POST', 'registro.php', true);
            xhr.onreadystatechange = function() {
                if (xhr.readyState === XMLHttpRequest.DONE) {
                    if (xhr.status === 200) {
                        alert("Registro exitoso");
                        closePopup();
                    } else {
                        alert("Error en el registro");
                    }
                }
            };
            xhr.send(formData);
        }

        function closePopup() {
            document.getElementById('popup').style.display = 'none';
        }
    </script>
</body>
</html>